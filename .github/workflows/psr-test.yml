name: PHPCS
on: [push]
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v1
    - name: PHPCS
      run: docker run --rm -v $PWD:/code:ro domw/phpcs phpcs --colors --standard=PSR12 --warning-severity=0 --report=full,summary,gitblame --extensions=php,phtml ./
      continue-on-error: true
    - name: compatibility
      run: docker run --rm -v $PWD:/code:ro domw/phpcompatibility phpcs --standard=PHPCompatibility --runtime-set testVersion 7.0-7.4 --colors --warning-severity=0 --report=full,summary --extensions=php,phtml ./
